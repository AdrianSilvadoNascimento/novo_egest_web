<mat-sidenav-container autosize>
  @if (isLogged) {
  <mat-sidenav 
    [mode]="mode" 
    [opened]="opened" 
    class="shadow-md transition-all duration-100" 
    [style.width]="getSidenavWidth()">
    <div id="sidenav-content" class="h-full flex flex-col justify-between transition-all duration-300">
      <div class="h-full flex flex-col justify-between p-4 space-y-4">
        <div class="flex flex-col gap-2">
          @for (link of links; track link.route) {
          <a [routerLink]="link.route" routerLinkActive="bg-gray-100"
            (click)="onLinkClick()"
            class="flex items-center p-2 rounded-lg hover:bg-gray-100 transition-all duration-300">
            <lucide-icon [img]="link.icon" class="w-6 h-6 text-gray-700" [class.mx-auto]="!expanded" matTooltipPosition="right"
              [matTooltip]="expanded ? '' : link.label"></lucide-icon>
            <span class="ml-4 text-gray-700 text-sm transition-all duration-300" [class.hidden]="!expanded">
              {{ link.label }}
            </span>
          </a>
          }
        </div>

        <!-- Botão recolher só aparece em desktop -->
        @if (!isMobile) {
        <a id="expand-panel-button" (click)="toggleSidenav()"
          class="cursor-pointer flex items-center p-2 rounded-lg hover:bg-gray-100 transition-all duration-300">
          <lucide-icon [img]="menuIcon" class="w-6 h-6" [class.mx-auto]="!expanded" matTooltipPosition="right"
            [matTooltip]="expanded ? 'Recolher' : 'Expandir'"></lucide-icon>
          <span class="ml-4 text-gray-700 text-sm transition-all duration-300" [class.hidden]="!expanded">
            Recolher
          </span>
        </a>
        }
      </div>
    </div>  
  </mat-sidenav>
  }

  <mat-sidenav-content class="bg-gray-100">
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>